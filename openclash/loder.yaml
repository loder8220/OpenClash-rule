# è‡ªå·±æ‰‹æ“çš„é…ç½®æ–‡ä»¶ï¼Œå‚è€ƒï¼šhttps://wiki.metacubex.one/example/conf/

# é”šç‚¹
p:
  &p {
    type: http,
    interval: 3600,
    health-check:
      {
        enable: true,
        url: "https://www.gstatic.com/generate_204",
        interval: 300,
      },
  }
# url é‡Œå¡«å†™è‡ªå·±çš„è®¢é˜…,åç§°ä¸èƒ½é‡å¤
proxy-providers:
  hongxingyun:
    <<: *p
    url: "https://hongxingyun10.vip/hxyunvip?token=ee6df3a5a162aaa2d072c6b05177bf57"
  mojie:
    <<: *p
    url: "https://a.mjsub.org/api/v1/client/subscribe?token=c25f6ee7eda0c22e43e8021a2bd82dc0"
ipv6: true
allow-lan: true
mixed-port: 7890
external-controller: 127.0.0.1:9090
profile:
  store-selected: true
  store-fake-ip: true
dns:
  enable: true
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 28.0.0.1/8
  fake-ip-filter:
    - "*"
    - "+.lan"
    - "+.local"
  default-nameserver:
    - 223.5.5.5
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query

#ç›´è¿ï¼Œå›ºå®šå†™æ³•
proxies:
  - name: "ç›´è¿"
    type: direct
    udp: true

# èŠ‚ç‚¹ç»„
proxy-groups:
  - {
      name: é»˜è®¤,
      type: select,
      proxies:
        [
          è‡ªåŠ¨é€‰æ‹©,
          é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©,
          å°æ¹¾è‡ªåŠ¨é€‰æ‹©,
          æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©,
          æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©,
          ç¾å›½è‡ªåŠ¨é€‰æ‹©,
          å…¶å®ƒåœ°åŒº,
          å…¨éƒ¨èŠ‚ç‚¹,
          ç›´è¿,
        ],
    }
  - {
      name: Google,
      type: select,
      proxies:
        [
          é»˜è®¤,
          è‡ªåŠ¨é€‰æ‹©,
          é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©,
          å°æ¹¾è‡ªåŠ¨é€‰æ‹©,
          æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©,
          æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©,
          ç¾å›½è‡ªåŠ¨é€‰æ‹©,
          å…¶å®ƒåœ°åŒº,
          å…¨éƒ¨èŠ‚ç‚¹,
          ç›´è¿,
        ],
    }
  - {
      name: Github,
      type: select,
      proxies:
        [
          é»˜è®¤,
          è‡ªåŠ¨é€‰æ‹©,
          é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©,
          å°æ¹¾è‡ªåŠ¨é€‰æ‹©,
          æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©,
          æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©,
          ç¾å›½è‡ªåŠ¨é€‰æ‹©,
          å…¶å®ƒåœ°åŒº,
          å…¨éƒ¨èŠ‚ç‚¹,
          ç›´è¿,
        ],
    }
  - {
      name: YouTube,
      type: select,
      proxies:
        [
          é»˜è®¤,
          è‡ªåŠ¨é€‰æ‹©,
          é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©,
          å°æ¹¾è‡ªåŠ¨é€‰æ‹©,
          æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©,
          æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©,
          ç¾å›½è‡ªåŠ¨é€‰æ‹©,
          å…¶å®ƒåœ°åŒº,
          å…¨éƒ¨èŠ‚ç‚¹,
          ç›´è¿,
        ],
    }
  - {
      name: Docker,
      type: select,
      proxies:
        [
          é»˜è®¤,
          è‡ªåŠ¨é€‰æ‹©,
          é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©,
          å°æ¹¾è‡ªåŠ¨é€‰æ‹©,
          æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©,
          æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©,
          ç¾å›½è‡ªåŠ¨é€‰æ‹©,
          å…¶å®ƒåœ°åŒº,
          å…¨éƒ¨èŠ‚ç‚¹,
          ç›´è¿,
        ],
    }
  - {
      name: OpenAi,
      type: select,
      proxies:
        [
          é»˜è®¤,
          è‡ªåŠ¨é€‰æ‹©,
          é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©,
          å°æ¹¾è‡ªåŠ¨é€‰æ‹©,
          æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©,
          æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©,
          ç¾å›½è‡ªåŠ¨é€‰æ‹©,
          å…¶å®ƒåœ°åŒº,
          å…¨éƒ¨èŠ‚ç‚¹,
          ç›´è¿,
        ],
    }
  - {
      name: TikTok,
      type: select,
      proxies:
        [
          é»˜è®¤,
          è‡ªåŠ¨é€‰æ‹©,
          é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©,
          å°æ¹¾è‡ªåŠ¨é€‰æ‹©,
          æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©,
          æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©,
          ç¾å›½è‡ªåŠ¨é€‰æ‹©,
          å…¶å®ƒåœ°åŒº,
          å…¨éƒ¨èŠ‚ç‚¹,
          ç›´è¿,
        ],
    }
  - {
      name: å›½å†…,
      type: select,
      proxies:
        [
          ç›´è¿,
          é»˜è®¤,
          é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©,
          å°æ¹¾è‡ªåŠ¨é€‰æ‹©,
          æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©,
          æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©,
          ç¾å›½è‡ªåŠ¨é€‰æ‹©,
          å…¶å®ƒåœ°åŒº,
          å…¨éƒ¨èŠ‚ç‚¹,
          è‡ªåŠ¨é€‰æ‹©,
        ],
    }
    # ä¸‹é¢æ˜¯åœ°åŒºèŠ‚ç‚¹åˆ†ç»„
  - {
      name: è‡ªåŠ¨é€‰æ‹©,
      type: url-test,
      include-all: true,
      # æ’é™¤ç›´è¿ã€å®˜ç½‘ã€å‰©ä½™ã€å¼‚å¸¸ã€å¥—é¤
      filter: "(?i)^(?!.*(?:ç›´è¿|å®˜ç½‘|å‰©ä½™|å¼‚å¸¸|å¥—é¤|æµé‡)).*",
      icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Auto.png",
    }
  - {
      name: é¦™æ¸¯è‡ªåŠ¨é€‰æ‹©,
      type: url-test,
      include-all: true,
      filter: "(?i)(?!ç›´è¿)(é¦™æ¸¯|hk|hongkong|hong kong)",
      icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/HK.png",
    }
  - {
      name: å°æ¹¾è‡ªåŠ¨é€‰æ‹©,
      type: url-test,
      include-all: true,
      filter: "(?i)(?!ç›´è¿)(å°æ¹¾|tw|taiwan)",
      icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TW.png",
    }
  - {
      name: æ—¥æœ¬è‡ªåŠ¨é€‰æ‹©,
      type: url-test,
      include-all: true,
      filter: "(?i)(?!ç›´è¿)(æ—¥æœ¬|jp|japan)",
      icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/JP.png",
    }
  - {
      name: ç¾å›½è‡ªåŠ¨é€‰æ‹©,
      type: url-test,
      include-all: true,
      filter: "(?i)(?!ç›´è¿)(ç¾å›½|us|unitedstates|united states)",
      icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/US.png",
    }
  - {
      name: æ–°åŠ å¡è‡ªåŠ¨é€‰æ‹©,
      type: url-test,
      include-all: true,
      filter: "(?i)(æ–°åŠ å¡|sg|singapore)",
      icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/SG.png",
    }
  - {
      name: å…¶å®ƒåœ°åŒº,
      type: select,
      include-all: true,
      filter: "(?i)^(?!.*(?:ğŸ‡­ğŸ‡°|ğŸ‡¯ğŸ‡µ|ğŸ‡ºğŸ‡¸|ğŸ‡¸ğŸ‡¬|ğŸ‡¨ğŸ‡³|æ¸¯|hk|hongkong|å°|tw|taiwan|æ—¥|jp|japan|æ–°|sg|singapore|ç¾|us|unitedstates|ç›´è¿|å®˜ç½‘|å‰©ä½™|å¼‚å¸¸|å¥—é¤|æµé‡)).*",
      icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Available.png",
    }
  - {
      name: å…¨éƒ¨èŠ‚ç‚¹,
      type: select,
      include-all: true,
      icon: "https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Global.png",
    }

#åŸŸåç»„
rule-anchor:
  ip: &ip { type: http, interval: 86400, behavior: ipcidr, format: text }
  domain:
    &domain { type: http, interval: 86400, behavior: domain, format: text }
rule-providers:
  # å›½å†…åŸŸå
  cn_domain:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.list"
    # å›½å†…IP
  cn_ip:
    <<: *ip
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.list"
  # google åŸŸå
  google_domain:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.list"
  # google IP
  google_ip:
    <<: *ip
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.list"
  #docker åŸŸå
  docker_domain:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/docker.list"
  #github åŸŸå
  github_domain:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.list"
  #openai åŸŸå
  openai_domain:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/openai.list"
  #youtube åŸŸå
  youtube_domain:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.list"
  #tiktok åŸŸå
  tiktok_domain:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.list"
  #å›½å¤–åŸŸå
  geolocation-!cn:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.list"

rules:
  - GEOIP,lan,ç›´è¿,no-resolve
  - RULE-SET,google_domain,Google
  - RULE-SET,docker_domain,Docker
  - RULE-SET,github_domain,Github
  - RULE-SET,openai_domain,OpenAi
  - RULE-SET,youtube_domain,YouTube
  - RULE-SET,tiktok_domain,TikTok
  - RULE-SET,google_ip,Google
  - RULE-SET,geolocation-!cn,é»˜è®¤
  - RULE-SET,cn_domain,å›½å†…
  - RULE-SET,cn_ip,å›½å†…
  - MATCH,é»˜è®¤
